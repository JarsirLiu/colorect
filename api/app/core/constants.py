"""
常量定义

定义系统级常量，特别是针对 4核4G 单机场景的资源限制。
"""
from pathlib import Path


# 项目根目录（api 目录）
PROJECT_ROOT = Path(__file__).parent.parent.parent.resolve()

# ============================================
# 资源限制（4核4G 单机优化）
# ============================================

# 模型推理并发数（避免内存溢出）
MAX_CONCURRENT_INFERENCE = 2

# 线程池大小（CPU 密集型任务）
THREAD_POOL_SIZE = 2

# 模型文件目录
MODELS_DIR = PROJECT_ROOT / "data" / "models"

# ============================================
# 抠图配置
# ============================================

CUTOUT_MODEL_PATH = MODELS_DIR / "model.onnx"
CUTOUT_DEFAULT_SIZE = 1024
CUTOUT_MAX_SIZE = 2048

# ============================================
# 任务队列配置
# ============================================

# 任务超时（秒）
TASK_TIMEOUT = 300

# 队列最大长度
QUEUE_MAX_SIZE = 100

# ============================================
# API 配置
# ============================================

# 文件上传最大大小（MB）
MAX_UPLOAD_SIZE = 10

